name: Install Checkers

on: [push]

env:
  CARGO_TERM_COLOR: always

jobs:
  install:
    runs-on: ubuntu-latest
    steps:

      - name: Install Rudra
        run: |
          git clone https://github.com/os-checker/Rudra.git
          cd Rudra
          git switch master
          cargo install --path . --locked
          cargo rudra --help

      - name: Install Mirai
        run: |
          git clone https://github.com/os-checker/MIRAI.git
          cd MIRAI
          git switch main
          cargo install --path checker --no-default-features -F z3,z3-sys
          cargo mirai --help

      - name: Install Rap
        run: |
          git clone https://github.com/os-checker/RAP.git
          cd RAP
          git switch main
          cd rap
          cargo install --path .
          cargo rap --help

      - name: Install Lockbud
        run: |
          git clone https://github.com/os-checker/lockbud.git
          cd lockbud
          git switch all
          cargo install --path .
          cargo lockbud --help
